extends layout

block content    
    if tournaments.length > 1
        div.columns.pb-2
            div(class='column col-2')
                span.text-gray Aktiiviset turnaukset:
            div(class='column col-10')
                for t in tournaments
                    span.chip
                        a(href="/home/"+t.id)= t.name
    div.columns
        div(class='column col-12')
            img(src='/public/img/banner.png' class='img-responsive banner')
    div.columns
        div(class='column col-12')
            span.text-gray Turnaus
            a(href="/tournament/" + tournament.id)
                h1= tournament.name
        div(class='column col-6')
            span.text-gray Alkaa
            p.text-primary #{moment(tournament.datestarts).format("D.MM.YYYY")}
        div(class='column col-6')
            span.text-gray Loppuu
            p.text-primary #{moment(tournament.dateends).format("D.MM.YYYY")}
    div.columns
        div(class='column col-md-6 col-sm-12 card')
            h4.card-heading 
                i(class="fa fa-calendar-check-o card-icon" aria-hidden="true")
                | P채iv채n pelit
            table(class='table table-hover')
                thead
                    tr
                        th Klo
                        th Peli
                        th Tulos
                tbody
                if todays
                    for game in todays
                        tr
                            td= moment(game.game_start_datetime).format("H:mm")
                            td
                                span
                                    img(src="/public/img/flags/" + (game.team_1_country_code || 'placeholder') + ".png" class="img-flag-tiny")
                                    =game.team_1 
                                span  -                           
                                    =game.team_2
                                    img(src="/public/img/flags/" + (game.team_2_country_code || 'placeholder') + ".png" class="img-flag-tiny")
                            if game.team_1_score 
                                td #{game.team_1_score} - #{game.team_2_score}
                            else
                                td TBA
        div(class='column col-md-6 col-sm-12 card')
            h4.card-heading 
                i(class="fa fa-calendar-o card-icon" aria-hidden="true")
                | Huomisen pelit
            table(class='table table-hover')
                thead
                    tr
                        th Klo
                        th Peli
                tbody
                if tomorrows
                    for game in tomorrows
                        tr
                            td= moment(game.game_start_datetime).format("H:mm")
                            td
                                span
                                    img(src="/public/img/flags/" + (game.team_1_country_code || 'placeholder') + ".png" class="img-flag-tiny")
                                    =game.team_1 
                                span  -                           
                                    =game.team_2
                                    img(src="/public/img/flags/" + (game.team_2_country_code || 'placeholder') + ".png" class="img-flag-tiny")
    div.columns
        div(class='column col-md-6 col-sm-12 card')
            h4.card-heading 
                i(class="fa fa-list-ul card-icon" aria-hidden="true")
                | Omat tulokset
            if userPools && userPools.length > 0
                table(class='table table-striped table-hover')
                    thead
                        tr
                            th pvm
                            th Peli
                            th Oma
                            th Tulos
                    tbody
                    for game in userPools
                        tr
                            td= moment(game.game_start_datetime).format('D.M.YYYY')
                            td
                                span
                                    img(src="/public/img/flags/" + (game.team_1_country_code || 'placeholder') + ".png" class="img-flag-tiny")
                                    =game.team_1 
                                span  -                           
                                    =game.team_2
                                    img(src="/public/img/flags/" + (game.team_2_country_code || 'placeholder') + ".png" class="img-flag-tiny")
                            td= game.pool
                            td= game.result
            else if moment(tournament.dateStarts) > moment()
                div.empty
                    div.empty-icon
                        i(class="fa fa-users fa-5x" aria-hidden="true")
                    p.empty-title.h5 Hei, #{user.username}!
                    p.empty-subtitle Paina nappia osallistuaksesi peliin!
                    div.empty-action
                        a(href="/participate/tournament/" + tournament.id)
                            button.btn.btn-primary Osallistu
            else 
                div.empty
                    div.empty-icon
                        i(class="fa fa-calendar-times-o fa-5x" aria-hidden="true")
                    p.empty-title.h5 Pahoittelut, #{user.username}!
                    p.empty-subtitle Peliin osallistuminen ei ole en채채 mahdollista.


        div(class='column col-md-6 col-sm-12 card')
            h4.card-heading 
                i(class="fa fa-trophy card-icon" aria-hidden="true")
                | Leaderboard
    
            table(class='table table-striped table-hover')
                thead
                    tr
                        th Nimi
                        th Pisteet
                tbody
                    tr
                        td mikko
                        td 20
                    tr
                        td masa
                        td 19
    
